{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","trList","querySelectorAll","switched","sortColumns","e","col","target","cellIndex","table","i","length","push","remove","sort","a","b","first","children","textContent","second","toString","replace","forEach","item","appendChild","addEventListener","body","insertAdjacentHTML","currentTarget","classList","add","innerHTML","btn","form","addLists","name","value","position","office","age","salary","toLocaleString","pushNotification","posTop","posRight","title","description","type","div","createElement","append","style","top","right","setTimeout","submitTotal","titleSubmit","notSubmitError","notSumbit","notEnoughText","notEnough","text","preventDefault","setAttribute","reset"],"mappings":"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","file":"main.6c6159d7.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nlet trList = tbody.querySelectorAll('tr');\nlet switched = true;\n\nfunction sortColumns(e) {\n  const col = e.target.cellIndex;\n\n  switched = !switched;\n\n  const table = [];\n\n  for (let i = 0; i < trList.length; i++) {\n    table.push(trList[i]);\n    trList[i].remove();\n  }\n\n  table.sort((a, b) => {\n    let first = b.children[col].textContent;\n    let second = a.children[col].textContent;\n\n    if (switched !== true) {\n      first = a.children[col].textContent;\n      second = b.children[col].textContent;\n    }\n\n    if (col === 0 || col === 1 || col === 2) {\n      return first > second ? 1 : -1;\n    }\n\n    if (col === 4) {\n      return +first.toString().replace(/\\$|,/g, '')\n      - +second.toString().replace(/\\$|,/g, '');\n    }\n\n    if (col === 3) {\n      return +first - +second;\n    }\n  });\n\n  table.forEach(item => tbody.appendChild(item));\n}\n\nthead.addEventListener('click', sortColumns);\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class=\"new-employee-form\" action=\"post\">\n    <label>\n      Name:\n      <input\n        type=\"text\"\n        name=\"name\"\n        data-qa=\"name\"\n        min=\"4\"\n        required\n        id=\"name\"/>\n    </label>\n    <label>\n      Position:\n      <input\n      type=\"text\"\n      name=\"position\"\n      data-qa=\"position\"\n      required\n      id=\"position\"/>\n    </label>\n    <label>\n      Office:\n      <select\n      name=\"office\"\n      data-qa=\"office\"\n      id=\"office\"/>\n      <option value=\"Tokyo\" selected>Tokyo</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"San Francisco\">San Francisco</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n    </select>\n    </label>\n    <label>\n      Age:\n      <input\n        type=\"number\"\n        name=\"age\"\n        data-qa=\"age\"\n        min='18'\n        max='90'\n        required\n        id=\"age\"/>\n    </label>\n    <label>\n      Salary:\n      <input\n      type=\"number\"\n      name=\"salary\"\n      data-qa=\"salary\"\n      required\n      id=\"salary\"/>\n    </label>\n    <button>Save to table</button>\n  </form>\n`);\n\nfor (const item of trList) {\n  item.addEventListener('click', (e) =>\n    e.currentTarget.classList.add('active'));\n}\n\nfor (const item of trList) {\n  item.addEventListener('dblclick',\n    (e) => {\n      e.target.classList.add('active');\n\n      e.target.innerHTML('beforeend', '<input type=\"text\">');\n    });\n}\n\nconst btn = document.querySelector('button');\nconst form = document.querySelector('.new-employee-form');\n\nbtn.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  if (!form.position.value || !form.name.value || !form.age.value\n     || !form.office.value || !form.salary.value) {\n    notSubmitError('error');\n\n    return;\n  };\n\n  if (form.name.value.length < 4) {\n    form.name.classList.add('notification error');\n    form.name.setAttribute('data-qa', 'notification');\n\n    notEnoughText('warning',\n      'Please, enter more than 4 characters to the field \"Name\"');\n\n    return;\n  }\n\n  if (form.position.value.length < 4) {\n    notEnoughText('warning',\n      'Please, enter more than 4 characters to the field \"Postion\"');\n\n    return;\n  }\n\n  if (form.age.value < 18 || form.age.value > 90) {\n    form.age.classList.add('notification');\n    form.age.setAttribute('data-qa', 'notification');\n\n    notEnoughText('warning',\n      'Please, enter age more than 18 and less then 90');\n\n    return;\n  }\n\n  addLists();\n  submitTotal('success');\n  form.reset();\n});\n\nfunction addLists() {\n  tbody.insertAdjacentHTML('beforeend', `\n  <tr>\n  <td>${form.name.value}</td>\n  <td>${form.position.value}</td>\n  <td>${form.office.value}</td>\n  <td>${+form.age.value}</td>\n  <td>$${(+form.salary.value).toLocaleString('en-US')}</td>\n  </tr>\n  `);\n\n  trList = tbody.querySelectorAll('tr');\n}\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  const body = document.querySelector('body');\n  const div = document.createElement('div');\n\n  div.insertAdjacentHTML('afterbegin',\n    `<div data-qa=\"notification\" class=\"notification ${type}\">\n      <h1 class=\"title\">${title}</h1>\n      <p>${description}</p>\n    </div>`);\n\n  body.append(div);\n\n  div.style.top = `${posTop}px`;\n  div.style.right = `${posRight}px`;\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n\n  return div;\n};\n\nfunction submitTotal(titleSubmit) {\n  pushNotification(10, 10, titleSubmit, '\\n '\n  + 'All the information added to the table', 'success');\n};\n\nfunction notSubmitError(notSumbit) {\n  pushNotification(150, 10, notSumbit, '\\n '\n  + 'Please, enter the information in the field and confirm info', 'error');\n};\n\nfunction notEnoughText(notEnough, text) {\n  pushNotification(290, 10, notEnough, '\\n '\n  + text, 'warning');\n};\n"]}